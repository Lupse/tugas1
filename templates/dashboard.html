{% extends 'index.html' %}



{% block content %}
        <!-- Style -->
        <style>
            .section-1{
                position: relative;
                width: 100%;
                display: flex;
                gap: 2em;
            }

            .summary-content{
                display: flex;
                align-items: center;
                background-color: white;;
                width: min-content;
                padding-block: 2em;
                border-radius: 12px;
                gap: 1em;
                padding-inline: 2em;
                margin-bottom: 1em;
            }

            .card{
                display: flex;
                gap: 12px;
                flex-direction: column;
                align-items: center;
                width: 9.5em;
                height: 11em;
                background-color: white;
                padding: 1rem;
                border-radius: 8px;
                box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            }

            .image-container{
                position: absolute;
                right: 0;
                bottom: 0;
                width: 28%;
                height: 12em;
                border-radius: 12px;
            }

            .section-2{
                width: 100%;
            }

            .table-content{
                background-color: white;
                border-radius: 12px;
                padding-block: 2em ;
                box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1); /* Tambahkan bayangan untuk efek lebih rapi */
            }

            table {
                width: 90%;
                margin-top: 20px;
                border-radius: 10px;
                border-collapse: collapse;
                overflow: hidden; /* Agar border-radius diterapkan dengan benar */
                box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1); /* Tambahkan bayangan untuk efek lebih rapi */
            }

            th, td {
                padding: 10px;
                text-align: left;
            }

            th {
                background: #b5c18e6f;
            }

            /* Membulatkan sudut atas */
            th:first-child {
                border-top-left-radius: 10px;
            }
            th:last-child {
                border-top-right-radius: 10px;
            }

            /* Membulatkan sudut bawah */
            tr:last-child td:first-child {
                border-bottom-left-radius: 10px;
            }
            tr:last-child td:last-child {
                border-bottom-right-radius: 10px;
            }

            tbody tr:hover{
                background-color: rgba(0, 0, 0, 0.073);
            }

        


        </style>

        <!-- Content -->
        Welcome, admin!
        <h1 style="margin-block: 8px;">
            Dashboard
        </h1>

        <!-- section-1 -->
<div class="section-1">
    <div class="summary-content">
        <div class="card" style="background-color: #FFF8E6;border: 2px solid #F7E49D;">
            <div style="background-color:#F8C208; width: min-content; padding: 0.5em; display: flex;align-items: center; border-radius: 8px; margin-top: 12px;">
                <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24"><path fill="white" d="M6.5 16q1.175 0 2.288.263T11 17.05V7.2q-1.025-.6-2.175-.9T6.5 6q-.9 0-1.788.175T3 6.7v9.9q.875-.3 1.738-.45T6.5 16m6.5 1.05q1.1-.525 2.213-.787T17.5 16q.9 0 1.763.15T21 16.6V6.7q-.825-.35-1.713-.525T17.5 6q-1.175 0-2.325.3T13 7.2zm-1 2.425q-.35 0-.663-.087t-.587-.238q-.975-.575-2.05-.862T6.5 18q-1.05 0-2.062.275T2.5 19.05q-.525.275-1.012-.025T1 18.15V6.1q0-.275.138-.525T1.55 5.2q1.15-.6 2.4-.9T6.5 4q1.45 0 2.838.375T12 5.5q1.275-.75 2.663-1.125T17.5 4q1.3 0 2.55.3t2.4.9q.275.125.413.375T23 6.1v12.05q0 .575-.487.875t-1.013.025q-.925-.5-1.937-.775T17.5 18q-1.125 0-2.2.288t-2.05.862q-.275.15-.587.238t-.663.087m2-10.7q0-.225.163-.462T14.525 8q.725-.25 1.45-.375T17.5 7.5q.5 0 .988.063t.962.162q.225.05.388.25t.162.45q0 .425-.275.625t-.7.1q-.35-.075-.737-.112T17.5 9q-.65 0-1.275.125t-1.2.325q-.45.175-.737-.025T14 8.775m0 5.5q0-.225.163-.462t.362-.313q.725-.25 1.45-.375T17.5 13q.5 0 .988.063t.962.162q.225.05.388.25t.162.45q0 .425-.275.625t-.7.1q-.35-.075-.737-.112T17.5 14.5q-.65 0-1.275.113t-1.2.312q-.45.175-.737-.012T14 14.275m0-2.75q0-.225.163-.462t.362-.313q.725-.25 1.45-.375t1.525-.125q.5 0 .988.063t.962.162q.225.05.388.25t.162.45q0 .425-.275.625t-.7.1q-.35-.075-.737-.112t-.788-.038q-.65 0-1.275.125t-1.2.325q-.45.175-.737-.025t-.288-.65"/></svg>
            </div>
            <p style="margin: 0;">Total book</p>
            <h2 style="margin: 0;">{{ total_books }}</h2>
        </div>
        <div class="card" style="background-color: #EFEEFE;border: 2px solid #CAC5FF;">
            <div style="background-color:#CAC5FF; width: min-content; padding: 0.5em; display: flex;align-items: center; border-radius: 8px; margin-top: 12px;">
                <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24"><path fill="white" d="M6.5 16q1.175 0 2.288.263T11 17.05V7.2q-1.025-.6-2.175-.9T6.5 6q-.9 0-1.788.175T3 6.7v9.9q.875-.3 1.738-.45T6.5 16m6.5 1.05q1.1-.525 2.213-.787T17.5 16q.9 0 1.763.15T21 16.6V6.7q-.825-.35-1.713-.525T17.5 6q-1.175 0-2.325.3T13 7.2zm-1 2.425q-.35 0-.663-.087t-.587-.238q-.975-.575-2.05-.862T6.5 18q-1.05 0-2.062.275T2.5 19.05q-.525.275-1.012-.025T1 18.15V6.1q0-.275.138-.525T1.55 5.2q1.15-.6 2.4-.9T6.5 4q1.45 0 2.838.375T12 5.5q1.275-.75 2.663-1.125T17.5 4q1.3 0 2.55.3t2.4.9q.275.125.413.375T23 6.1v12.05q0 .575-.487.875t-1.013.025q-.925-.5-1.937-.775T17.5 18q-1.125 0-2.2.288t-2.05.862q-.275.15-.587.238t-.663.087m2-10.7q0-.225.163-.462T14.525 8q.725-.25 1.45-.375T17.5 7.5q.5 0 .988.063t.962.162q.225.05.388.25t.162.45q0 .425-.275.625t-.7.1q-.35-.075-.737-.112T17.5 9q-.65 0-1.275.125t-1.2.325q-.45.175-.737-.025T14 8.775m0 5.5q0-.225.163-.462t.362-.313q.725-.25 1.45-.375T17.5 13q.5 0 .988.063t.962.162q.225.05.388.25t.162.45q0 .425-.275.625t-.7.1q-.35-.075-.737-.112T17.5 14.5q-.65 0-1.275.113t-1.2.312q-.45.175-.737-.012T14 14.275m0-2.75q0-.225.163-.462t.362-.313q.725-.25 1.45-.375t1.525-.125q.5 0 .988.063t.962.162q.225.05.388.25t.162.45q0 .425-.275.625t-.7.1q-.35-.075-.737-.112t-.788-.038q-.65 0-1.275.125t-1.2.325q-.45.175-.737-.025t-.288-.65"/></svg>
            </div>
            <p style="margin: 0;">Available book</p>
            <h2 style="margin: 0;">{{ available_books }}</h2>
        </div>
        <div class="card" style="background-color: #E7F9F9;border: 2px solid #C6F2F2;">
            <div style="background-color:#15CEC8; width: min-content; padding: 0.5em; display: flex;align-items: center; border-radius: 8px; margin-top: 12px;">
                <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24"><path fill="white" d="M6.5 16q1.175 0 2.288.263T11 17.05V7.2q-1.025-.6-2.175-.9T6.5 6q-.9 0-1.788.175T3 6.7v9.9q.875-.3 1.738-.45T6.5 16m6.5 1.05q1.1-.525 2.213-.787T17.5 16q.9 0 1.763.15T21 16.6V6.7q-.825-.35-1.713-.525T17.5 6q-1.175 0-2.325.3T13 7.2zm-1 2.425q-.35 0-.663-.087t-.587-.238q-.975-.575-2.05-.862T6.5 18q-1.05 0-2.062.275T2.5 19.05q-.525.275-1.012-.025T1 18.15V6.1q0-.275.138-.525T1.55 5.2q1.15-.6 2.4-.9T6.5 4q1.45 0 2.838.375T12 5.5q1.275-.75 2.663-1.125T17.5 4q1.3 0 2.55.3t2.4.9q.275.125.413.375T23 6.1v12.05q0 .575-.487.875t-1.013.025q-.925-.5-1.937-.775T17.5 18q-1.125 0-2.2.288t-2.05.862q-.275.15-.587.238t-.663.087m2-10.7q0-.225.163-.462T14.525 8q.725-.25 1.45-.375T17.5 7.5q.5 0 .988.063t.962.162q.225.05.388.25t.162.45q0 .425-.275.625t-.7.1q-.35-.075-.737-.112T17.5 9q-.65 0-1.275.125t-1.2.325q-.45.175-.737-.025T14 8.775m0 5.5q0-.225.163-.462t.362-.313q.725-.25 1.45-.375T17.5 13q.5 0 .988.063t.962.162q.225.05.388.25t.162.45q0 .425-.275.625t-.7.1q-.35-.075-.737-.112T17.5 14.5q-.65 0-1.275.113t-1.2.312q-.45.175-.737-.012T14 14.275m0-2.75q0-.225.163-.462t.362-.313q.725-.25 1.45-.375t1.525-.125q.5 0 .988.063t.962.162q.225.05.388.25t.162.45q0 .425-.275.625t-.7.1q-.35-.075-.737-.112t-.788-.038q-.65 0-1.275.125t-1.2.325q-.45.175-.737-.025t-.288-.65"/></svg>
            </div>
            <p style="margin: 0;">Lended book</p>
            <h2 style="margin: 0;">{{ lended_books }}</h2>
        </div>
        <div class="card" style="background-color: #EAFAF0;border: 2px solid #B7E9CC;">
            <div style="background-color:#36C76C; width: min-content; padding: 0.5em; display: flex;align-items: center; border-radius: 8px; margin-top: 12px;">
                <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24"><path fill="white" d="M6.5 16q1.175 0 2.288.263T11 17.05V7.2q-1.025-.6-2.175-.9T6.5 6q-.9 0-1.788.175T3 6.7v9.9q.875-.3 1.738-.45T6.5 16m6.5 1.05q1.1-.525 2.213-.787T17.5 16q.9 0 1.763.15T21 16.6V6.7q-.825-.35-1.713-.525T17.5 6q-1.175 0-2.325.3T13 7.2zm-1 2.425q-.35 0-.663-.087t-.587-.238q-.975-.575-2.05-.862T6.5 18q-1.05 0-2.062.275T2.5 19.05q-.525.275-1.012-.025T1 18.15V6.1q0-.275.138-.525T1.55 5.2q1.15-.6 2.4-.9T6.5 4q1.45 0 2.838.375T12 5.5q1.275-.75 2.663-1.125T17.5 4q1.3 0 2.55.3t2.4.9q.275.125.413.375T23 6.1v12.05q0 .575-.487.875t-1.013.025q-.925-.5-1.937-.775T17.5 18q-1.125 0-2.2.288t-2.05.862q-.275.15-.587.238t-.663.087m2-10.7q0-.225.163-.462T14.525 8q.725-.25 1.45-.375T17.5 7.5q.5 0 .988.063t.962.162q.225.05.388.25t.162.45q0 .425-.275.625t-.7.1q-.35-.075-.737-.112T17.5 9q-.65 0-1.275.125t-1.2.325q-.45.175-.737-.025T14 8.775m0 5.5q0-.225.163-.462t.362-.313q.725-.25 1.45-.375T17.5 13q.5 0 .988.063t.962.162q.225.05.388.25t.162.45q0 .425-.275.625t-.7.1q-.35-.075-.737-.112T17.5 14.5q-.65 0-1.275.113t-1.2.312q-.45.175-.737-.012T14 14.275m0-2.75q0-.225.163-.462t.362-.313q.725-.25 1.45-.375t1.525-.125q.5 0 .988.063t.962.162q.225.05.388.25t.162.45q0 .425-.275.625t-.7.1q-.35-.075-.737-.112t-.788-.038q-.65 0-1.275.125t-1.2.325q-.45.175-.737-.025t-.288-.65"/></svg>
            </div>
            <p style="margin: 0;">Membership</p>
            <h2 style="margin: 0;">-</h2>
        </div>
    </div>

    <div class="image-container">
        <img src="{{ url_for('static', filename='images/image1.png') }}" alt="" width="100%" height="100%">
    </div>
</div>

        <div class="section-2">
            <div class="table-content">
                <div style="display: flex; justify-content: space-between;padding-inline: 3.7em;align-items: center; gap: 1.5em;">
                    <input type="text" placeholder="Search book" style="padding: 0.5em; border-radius: 8px; border: 1px solid #E0E0E0; margin-block: 1em;font-size: 16px;flex: 1;">
                    <a href="{{ url_for('add_book') }}" style="background-color: #F8C208; padding: 0.5em; border-radius: 8px; border: none; color: white; font-size: 16px; height: 20px; display: flex; align-items: center; justify-content: center; text-decoration: none; width: 100px;"> + Add Books</a>
                </div>
                <center>
                    <table>
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Title</th>
                                <th>Author</th>
                                <th>ISBN</th>
                                <th>Genre</th>
                                <th>Language</th>
                                <th>
                                    <center>
                                        Total copies
                                    </center>
                                </th>
                                <th>
                                    <center>
                                        Available copies
                                    </center>
                                </th>
                                <th>
                                    <center>
                                        Shelf
                                    </center>
                                </th>
                                <th>
                                    <center>
                                        Status
                                    </center>
                                </th>
                                <th>
                                    <center>
                                        Actions
                                    </center>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for book in books %}
                            <tr>
                                <td>{{ book[0] }}</td>
                                <td>{{ book[1] }}</td>
                                <td>{{ book[2] }}</td>
                                <td>{{ book[3] }}</td>
                                <td>{{ book[4] }}</td>
                                <td>{{ book[5] }}</td>
                                <td>
                                    <center>
                                        {{ book[6] }}
                                    </center>
                                </td>
                                <td>
                                    <center>
                                        {{ book[7] }}
                                    </center>
                                </td>
                                <td>
                                    <center>
                                        {{ book[8] }}
                                    </center>
                                </td>
                                <td>
                                    <center>
                                        {{ book[9] }}
                                    </center>
                                </td>
                                <td style="display: flex; justify-content: center;">
                                    <center>
                                        <a href="{{ url_for('edit_book', book_id=book[0]) }}" >
                                            <button type="submit" style="background-color: #F8C208; color: white; padding: 0.5em; border-radius: 5px; border: none; cursor: pointer;">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M5 21q-.825 0-1.412-.587T3 19V5q0-.825.588-1.412T5 3h8.925l-2 2H5v14h14v-6.95l2-2V19q0 .825-.587 1.413T19 21zm4-6v-4.25l9.175-9.175q.3-.3.675-.45t.75-.15q.4 0 .763.15t.662.45L22.425 3q.275.3.425.663T23 4.4t-.137.738t-.438.662L13.25 15zM21.025 4.4l-1.4-1.4zM11 13h1.4l5.8-5.8l-.7-.7l-.725-.7L11 11.575zm6.5-6.5l-.725-.7zl.7.7z"/></svg>
                                            </button>
                                        </a>
                                        <form action="{{ url_for('delete_book', book_id=book[0]) }}" method="POST" style="display: inline;">
                                            <button type="submit" style="background-color: #dc3545; color: white; padding: 0.5em; border-radius: 5px; border: none; cursor: pointer;">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M7 21q-.825 0-1.412-.587T5 19V6H4V4h5V3h6v1h5v2h-1v13q0 .825-.587 1.413T17 21zM17 6H7v13h10zM9 17h2V8H9zm4 0h2V8h-2zM7 6v13z"/></svg>
                                            </button>
                                        </form>
                                    </center>
                                </td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </center>
           </div>
        </div>

        <script>
            document.addEventListener("DOMContentLoaded", function () {
                const searchInput = document.querySelector("input[type='text']");
                const tableRows = document.querySelectorAll("tbody tr");

                searchInput.addEventListener("input", function () {
                    const searchValue = searchInput.value.toLowerCase();
                    
                    tableRows.forEach(row => {
                        const titleCell = row.cells[1]; // Kolom Title ada di index 1
                        if (titleCell) {
                            const titleText = titleCell.textContent.toLowerCase();
                            if (titleText.includes(searchValue)) {
                                row.style.display = ""; // Tampilkan baris jika cocok
                            } else {
                                row.style.display = "none"; // Sembunyikan jika tidak cocok
                            }
                        }
                    });
                });
            });

        </script>
{% endblock %}
